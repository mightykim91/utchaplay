# README

### 읏챠플레이 

유저별 영화추천 기능과 영화별 리뷰 CRUD 기능과 좋아요 기능이 탑재된 영화 리뷰 웹 애플리케이션입니다.

#### 1. 기술 스택

- Front End

  Vue 2.6.11

  Vue/Cli 4.4.1

  Node 12.16.3

  

- Back-End

  Python 3.7.3

  Django 2.1.15

  Django Rest Framework 3.11.0

  

- User Authorization

  Django-rest-auth 0.9.5

  Django-allauth 0.42.0



#### 2. 팀구성 및 역할

- 김연수

  DB 모델링, REST API 설계 및 구현(리뷰 관련), Vue 설계 및 구현, 관리자 페이지 설계 및 구현, CSS, 추천영화 알고리즘 설계 및 구현 

- 김민재

  DB 모델링, REST API 설계 및 구현(영화 관련), Vue 설계 및 구현, 사용자 페이지 CSS, UCC 제작



#### 3. 개발 일정

- 개발 기간

  2020년 6월 12일 - 2020년 6월 18일

- 개발 일정

  | 6월 12일                        | 6월 13일           | 6월 14일         | 6월 15일         | 6월 16일          | 6월 17일            | 6월 18일                                                  |
  | ------------------------------- | ------------------ | ---------------- | ---------------- | ----------------- | ------------------- | --------------------------------------------------------- |
  | DB모델링, TMDb 기반 데이터 입력 | REST API 서버 구축 | Vue.js 로직 설계 | Vue.js 로직 구현 | DRF와 Vue.js 연동 | 스타일링, 기능 점검 | 프로젝트 배포(AWS Lightsail - Backend, AWS S3 - Frontend) |





#### 4. 기능 소개 및 구현 과정

읏챠플레이에서 가능한 기능들은 다음과 같습니다.

- 회원가입, 로그인, 로그아웃
- 전체 영화 및 장르별 영화 보기
- 새로운 영화 추가(관리자 계정 한정) 및 기존 영화 수정, 삭제
- 각 영화의 정보에 댓글 추가(한줄평)
- 영화 '좋아요' 기능
- 각 영화에 대한 리뷰 작성, 수정, 삭제
- 각 영화의 리뷰에 대한 댓글 작성 및 삭제
- 사용자별 추천 기능



##### 4.1 회원가입, 로그인, 로그아웃

- 회원가입, 로그인, 로그아웃 기능은 `rest-auth` 를 통하여 구현했습니다. 

- 회원가입을 할때나 로그인할때 만약 다음과 같은 오류들(8자리 미만 비밀번호 입력, 회원가입시 중복된 사용자 이름)들이 발생시 alert 창을 통해 사용자가 오류를 인지할 수 있도록 설계 했습니다.



##### 4.2 전체 영화 및 장르별 영화 보기

- 전체 영화 보기와 장르별 영화 보기는 각 기능에 알맞는 데이터를 반환하는 REST API에 비동기 요청을 보냄으로서 영화 정보를 받아오고 이를 클라이언트에서 나타내주었습니다.



##### 4.3 새로운 영화 추가 및 기존 영화 수정, 삭제

- 새로운 영화를 추가하기 위해서는 관리자 계정으로 로그인해야합니다. 
- 로그인한 유저가 관리자 계정인지 확인하기 위해서는 `rest-auth` 로 유저정보를 요청하고 받아온 데이터의 `is_staff` 변수의 `true`, `false` 여부를 확인하여 `true` 인 경우에만 관리자 페이지 버튼이 나타나도록 설계했습니다. 
- 새로운 영화 생성과 기존 영화 수정 및 삭제는 REST API 서버로 axios를 통해 비동기 요청을 보내줌으로서 구현했습니다.



##### 4.4 각 영화 정보에 댓글 추가

- 각 영화에 대한 댓글 혹은 한줄평이 추가 가능하며 삭제는 작성한 본인만 가능합니다. 작성자 식별은 관리자 식별때와 같이 `rest-auth` 로 유저정보에 대한 요청을 보낸후 받아와 `username` 과 글 작성자를 비교하는 방식으로 구현했습니다. 



##### 4.5 '좋아요' 기능

- 해당 기능을 사용하기 위해서는 로그인이 필요합니다.

- 좋아요 기능은 모달로 띄어진 영화정보의 영화 제목 옆에 있는 하트 버튼을 누르면 REST API로 비동기 요청이 가고 `boolean` 타입의 `is_liked` 의 결과값에 따라서 하트 색상을 변경하는 식으로 구분했습니다.
- 영화 포스터를 클릭하고 정보를 나타내는 모달이 나타났을때 기존 사용자가 좋아요를 눌렀는지 여부를 확인하기 위해서는 별도의 관련 REST API 로 요청을 보내고 좋아요 여부를 판단하는식으로 구현했습니다. 



##### 4.6 각 영화에 대한 리뷰 생성, 수정 및 삭제

- 해당 기능을 사용하기 위해서는 로그인이 필요합니다.

- 새로운 영화 추가 및 기존 영화 수정 및 삭제와 동일한 방식으로 구현했습니다.
- 영화 정보창에서 '리뷰 게시판' 버튼을 클릭하면 해당영화의 리뷰 게시판으로 이동할 수 있으며 이 곳에서 리뷰에 관한 모든 기능들을 활용할 수 있습니다.
- 리뷰 생성은 로그인한 유저라면 누구든지 가능하지만 리뷰 수정 및 삭제는 해당 리뷰를 작성한 유저만 가능합니다.



##### 4.7 각 영화의 리뷰에 대한 댓글 작성 및 삭제

- 해당 기능을 사용하기 위해서는 로그인이 필요합니다.
- 4.4 에서 사용된 방식과 동일한 방식으로 구현했습니다.



##### 4.8 사용자별 추천 기능

- 해당 기능을 사용하기 위해서는 로그인이 필요합니다.
- '좋아요'를 누른 영화가 없을시 각 장르별로 '좋아요' 수가 가장 많은 순서대로 8개의 영화를 출력합니다.
- '좋아요'를 누른 영화가 있을시 '좋아요'를 누른 영화들의 장르를 파악하고 각 장르에서 '좋아요' 수가 가장 많은 순서대로 8개의 영화를 출력합니다.





